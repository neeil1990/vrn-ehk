{"version":3,"sources":["calendar-settings-slider.js"],"names":["window","SettingsSlider","params","this","calendar","id","uid","Math","round","random","zIndex","sliderId","inPersonal","util","userIsOwner","showGeneralSettings","config","perm","access","settings","SLIDER_WIDTH","SLIDER_DURATION","prototype","show","top","BX","getClass","loadExt","SidePanel","Instance","open","contentCallback","delegate","create","width","animationDuration","events","onClose","proxy","hide","onCloseComplete","destroy","disableKeyHandler","close","event","getSliderPage","getUrl","denyClose","denyAction","removeCustomEvent","enableKeyHandler","onCustomEvent","promise","Promise","ajax","get","getActionUrl","action","is_personal","show_general_settings","unique_id","sessid","bitrix_sessid","bx_event_calendar_request","reqId","html","fulfill","trim","initControls","bind","save","DOM","denyBusyInvitation","showWeekNumbers","sectionSelect","crmSelect","showDeclined","showTasks","showCompletedTasks","timezoneSelect","workTimeStart","workTimeEnd","weekHolidays","yearHolidays","yearWorkdays","typeAccess","TYPE_ACCESS","accessWrap","initAccessController","code","hasOwnProperty","insertAccessRow","getAccessName","manageCalDav","syncSlider","showCalDavSyncDialog","options","length","sections","sectionController","getSectionList","meetSection","parseInt","getUserOption","crmSection","i","section","selected","belongToOwner","add","Option","name","checked","showWeekNumber","value","work_time_start","work_time_end","in_array","week_holidays","year_holidays","year_workdays","userSettings","userTimezoneName","data","user_settings","user_timezone_name","push","type_access","request","type","handler","response","reload","accessControls","accessTasks","getTypeAccessTasks","accessLink","hasClass","removeClass","addClass","Access","Init","accessWrapInner","appendChild","props","className","accessTable","accessButtonWrap","accessButton","message","ShowForm","callback","provider","GetProviderName","popup","popupContainer","style","e","target","findTargetNode","srcElement","outerWrap","getAttribute","showAccessSelectorPopup","node","removeIcon","setValueCallback","valueNode","innerHTML","htmlspecialchars","title","cleanNode","rowNode","undefined","getDefaultTypeAccessTask","adjust","insertRow","titleNode","insertCell","valueCell","attrs","data-bx-calendar-access-selector","selectNode","text","data-bx-calendar-access-remove","accessPopupMenu","popupWindow","isShown","menuId","taskId","_this","menuItems","onclick","PopupMenu","closeByEsc","autoHide","offsetTop","offsetLeft","angle","addCustomEvent","BXEventCalendar"],"mappings":"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","file":"calendar-settings-slider.map.js"}